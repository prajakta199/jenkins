pipeline {
  agent any
tools {
    nodejs "node"
}

  stages {
    stage('Setup and Run Tests on BrowserStack') {
      steps {
        browserstack(credentialsId: 'bb271ec7-4bbc-4582-b43e-3a19fd4cca1b') {
          sh 'npm install'
          sh 'npx playwright test --config=./playwright.config.js'
        }
      }
    }
  }
}
